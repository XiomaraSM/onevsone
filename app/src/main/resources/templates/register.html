<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Registro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>

<style>
    body {
        background-color: #ffc107;
    }
    .container {
        max-width: 60%;
        padding: 20px;
        margin: auto;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        background-color: #ffffff;        
        margin-bottom: 60px;
        margin-top: 60px;
    }
    .btn-custom {
        background-color: #ffc107;
        color: white;
        width: 100%;
        padding: 12px;
        border-radius: 5px;
        border: none;
        font-size: 1.2em;
        margin-top: 20px;
    }
    .btn-custom2 {
        background-color: #dc3545;
        color: white;
        width: 100%;
        padding: 12px;
        border-radius: 5px;
        border: none;
        font-size: 1.2em;
        margin-top: 20px;
    }
    .btn-custom3 {
        background-color:  #6610f2;
        color: white;
        width: 100%;
        padding: 12px;
        border-radius: 5px;
        border: none;
        font-size: 1.2em;
        margin-top: 20px;
    }
</style>

  <body>
    <div class="container">   
        <div class="row">
            <div class="col-lg-10 mx-auto rounded border p-4">
                <h2 class="text-center mb-4">Registro</h2>
                <hr>

                <!-- Mensaje de éxito -->
                <div th:if="${success}" class="alert alert-success alert-dismissible fade show" role="alert">
                    <strong>¡Cuenta Creada con Exito!</strong>
                    <a class="ms-2" href="/login">Ingresar </a>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>

                <form method="post" th:object="${registerDto}">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

                     <!-- Tipo de Documento -->
                     <div class="row mb-3">
                        <label for="numeroDocumento" class="col-sm-4 col-form-label">Tipo de Documento</label>
                        <div class="col-sm-8">
                            <select
                            class="form-control"
                            th:field="*{tipoDocumento}"
                            id="tipoDocumento"
                            required
                          >
                            <option th:value="CC">Cédula de Ciudadanía</option>
                            <option th:value="TI">Tarjeta de Identidad</option>
                            <option th:value="CE">Cédula de Extranjería</option>
                            <option th:value="PAS">Pasaporte</option>
                            <option th:value="NIT">NIT</option>
                          </select>
                        </div>
                    </div>

                    <!-- Numero de Documento -->
                    <div class="row mb-3">
                        <label for="numeroDocumento" class="col-sm-4 col-form-label">Número de Documento</label>
                        <div class="col-sm-8">
                            <input type="text" id="numeroDocumento" class="form-control" th:field="*{numeroDocumento}">
                            <p th:if="${#fields.hasErrors('numeroDocumento')}" class="text-danger" th:errors="*{numeroDocumento}"></p>
                        </div>
                    </div>

                    <!-- Primer Nombre -->
                    <div class="row mb-3">
                        <label for="primerNombre" class="col-sm-4 col-form-label">Primer Nombre</label>
                        <div class="col-sm-8">
                            <input type="text" id="primerNombre" class="form-control" th:field="*{primerNombre}">
                            <p th:if="${#fields.hasErrors('primerNombre')}" class="text-danger" th:errors="*{primerNombre}"></p>
                        </div>
                    </div>

                    <!-- segundo Nombre -->
                    <div class="row mb-3">
                        <label for="segundoNombre" class="col-sm-4 col-form-label">Segundo Nombre</label>
                        <div class="col-sm-8">
                            <input type="text" id="segundoNombre" class="form-control" th:field="*{segundoNombre}">
                            <p th:if="${#fields.hasErrors('segundoNombre')}" class="text-danger" th:errors="*{segundoNombre}"></p>
                        </div>
                    </div>

                    <!-- Primer Apellido -->
                    <div class="row mb-3">
                        <label for="primerApellido" class="col-sm-4 col-form-label">Primer Apellido</label>
                        <div class="col-sm-8">
                            <input type="text" id="primerApellido" class="form-control" th:field="*{primerApellido}">
                            <p th:if="${#fields.hasErrors('primerApellido')}" class="text-danger" th:errors="*{primerApellido}"></p>
                        </div>
                    </div>

                    <!-- segundo Apellido -->
                    <div class="row mb-3">
                        <label for="segundoApellido" class="col-sm-4 col-form-label">Segundo Apellido</label>
                        <div class="col-sm-8">
                            <input type="text" id="segundoApellido" class="form-control" th:field="*{segundoApellido}">
                            <p th:if="${#fields.hasErrors('segundoApellido')}" class="text-danger" th:errors="*{segundoApellido}"></p>
                        </div>
                    </div>

                    <!-- Correo Electrónico -->
                    <div class="row mb-3">
                        <label for="email" class="col-sm-4 col-form-label">Correo Electrónico</label>
                        <div class="col-sm-8">
                            <input type="email" id="email" class="form-control" th:field="*{email}">
                            <p th:if="${#fields.hasErrors('email')}" class="text-danger" th:errors="*{email}"></p>
                        </div>
                    </div>

                    <!-- celular -->
                    <div class="row mb-3">
                        <label for="phone" class="col-sm-4 col-form-label">Celular</label>
                        <div class="col-sm-8">
                            <input type="text" id="celular" class="form-control" th:field="*{celular}">
                            <p th:if="${#fields.hasErrors('celular')}" class="text-danger" th:errors="*{celular}"></p>
                        </div>
                    </div>

                    <!-- Localidad -->
                    <div class="row mb-3">
                        <label for="localidad" class="col-sm-4 col-form-label">Localidad</label>
                        <div class="col-sm-8">
                            <select class="form-control col-sm-8" th:field="*{localidadBogota}" id="localidadBogota" required>
                                <option th:value="USAQUEN" th:text="'Usaquén'"></option>
                                <option th:value="CHAPINERO" th:text="'Chapinero'"></option>
                                <option th:value="SANTAFE" th:text="'Santa Fe'"></option>
                                <option th:value="SAN_CRISTOBAL" th:text="'San Cristóbal'"></option>
                                <option th:value="USME" th:text="'Usme'"></option>
                                <option th:value="TUNJUELITO" th:text="'Tunjuelito'"></option>
                                <option th:value="BOSA" th:text="'Bosa'"></option>
                                <option th:value="KENNEDY" th:text="'Kennedy'"></option>
                                <option th:value="FONTIBON" th:text="'Fontibón'"></option>
                                <option th:value="ENGATIVA" th:text="'Engativá'"></option>
                                <option th:value="SUBA" th:text="'Suba'"></option>
                                <option th:value="BARRIOS_UNIDOS" th:text="'Barrios Unidos'"></option>
                                <option th:value="TEUSAQUILLO" th:text="'Teusaquillo'"></option>
                                <option th:value="MARTIRES" th:text="'Mártires'"></option>
                                <option th:value="ANTONIO_NARINO" th:text="'Antonio Nariño'"></option>
                                <option th:value="PUENTE_ARANDA" th:text="'Puente Aranda'"></option>
                                <option th:value="CANDELARIA" th:text="'La Candelaria'"></option>
                                <option th:value="RAFAEL_URIBE_URIBE" th:text="'Rafael Uribe Uribe'"></option>
                                <option th:value="CIUDAD_BOLIVAR" th:text="'Ciudad Bolívar'"></option>
                                <option th:value="SUMAPAZ" th:text="'Sumapaz'"></option>
                            </select>
                            
                          </select>
                        </div>
                        
                    </div>

                    <!-- barrio -->
                    <div class="row mb-3">
                        <label for="barrio" class="col-sm-4 col-form-label">barrio</label>
                        <div class="col-sm-8">
                            <input type="text" id="barrio" class="form-control" th:field="*{barrio}">
                            <p th:if="${#fields.hasErrors('barrio')}" class="text-danger" th:errors="*{barrio}"></p>
                        </div>
                    </div>

                    <!-- Dirección -->
                    <div class="row mb-3">
                        <label for="direccion" class="col-sm-4 col-form-label">Dirección</label>
                        <div class="col-sm-8">
                            <input type="text" id="direccion" class="form-control" th:field="*{direccion}">
                            <p th:if="${#fields.hasErrors('direccion')}" class="text-danger" th:errors="*{direccion}"></p>
                        </div>
                    </div>

                    <!-- Contraseña -->
<div class="row mb-3">
    <label for="password" class="col-sm-4 col-form-label">Contraseña</label>
    <div class="col-sm-8">
        <div class="input-group">
            <input type="password" id="password" class="form-control" th:field="*{password}">
            <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                <i class="bi bi-eye-fill"></i>
            </button>
        </div>
        <p th:if="${#fields.hasErrors('password')}" class="text-danger" th:errors="*{password}"></p>
    </div>
</div>

<!-- Confirmar Contraseña -->
<div class="row mb-3">
    <label for="confirmPassword" class="col-sm-4 col-form-label">Confirmar Contraseña</label>
    <div class="col-sm-8">
        <div class="input-group">
            <input type="password" id="confirmPassword" class="form-control" th:field="*{confirmPassword}">
            <button class="btn btn-outline-secondary" type="button" id="toggleConfirmPassword">
                <i class="bi bi-eye-fill"></i>
            </button>
        </div>
        <p th:if="${#fields.hasErrors('confirmPassword')}" class="text-danger" th:errors="*{confirmPassword}"></p>
    </div>
</div>


                    <!-- Botones -->
                    <div class="row mb-3">
                        <div class="offset-sm-4 col-sm-4 d-grid">
                            <button type="submit" class="btn btn-custom">Guardar</button>
                        </div>
                        <div class="col-sm-4 d-grid">
                            <a href="/" class="btn btn-custom2">Cancelar</a>
                        </div>
                    </div>

                     <!-- Botones -->
                     <div>
                        <div>
                            <a href="/forgot-password" class="btn btn-custom3">Olvido Su Contraseña?</a>
                        </div>
                    </div>

                </form>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('togglePassword').addEventListener('click', function () {
            const passwordInput = document.getElementById('password');
            const icon = this.querySelector('i');
            const isPassword = passwordInput.type === 'password';
            passwordInput.type = isPassword ? 'text' : 'password';
            icon.classList.toggle('bi-eye-fill', !isPassword);
            icon.classList.toggle('bi-eye-slash-fill', isPassword);
        });
    
        document.getElementById('toggleConfirmPassword').addEventListener('click', function () {
            const confirmPasswordInput = document.getElementById('confirmPassword');
            const icon = this.querySelector('i');
            const isPassword = confirmPasswordInput.type === 'password';
            confirmPasswordInput.type = isPassword ? 'text' : 'password';
            icon.classList.toggle('bi-eye-fill', !isPassword);
            icon.classList.toggle('bi-eye-slash-fill', isPassword);
        });
    </script>    
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>

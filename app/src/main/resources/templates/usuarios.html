<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head th:fragment="head">
  <meta charset="UTF-8" />
  <title>Usuarios</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
  <link rel="icon" href="/favicon.ico" />
  
</head>
<body>
  <header th:fragment="header">
    
<style>
  /* Estilos para el menú lateral */
  #sidebar {
    min-height: 100vh;
    width: 220px;
    background: #ffc107;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 100;
    padding-top: 60px;
  }
  #sidebar ul {
    list-style-type: none;
    padding: 0;
  }
  #sidebar ul li {
    padding: 15px;
  }
  #sidebar ul li a {
    color: black;
    text-decoration: none;
    display: block;
  }
  #sidebar ul li a:hover {
    background-color: #495057;
  }
  /* Estilos para el contenido principal */
  #content {
    margin-left: 220px;
    padding: 20px;
    margin-top: 100px;
  }
</style>
<!-- Barra de navegación superior -->
<nav class="navbar navbar-expand-lg navbar-dark bg-warning fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand text-white" th:href="@{/usuarios}">
      <img src="/Logo.png" width="50" height="50" class="d-inline-block" alt="Logo"/>
      ONE VS ONE
    </a>
    <h2>
      <a class="navbar-brand text-dark" th:href="@{/usuarios}">Tablero Usuarios</a>
    </h2>
    <form sec:authorize="isAuthenticated()" method="post" action="/logout" th:action="@{/logout}" class="d-flex">
      <input type="hidden" name="${_csrf.parameterName}" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
      <button type="submit" class="btn btn-danger">Logout</button>

  </form>  
  </div>
</nav>

<!-- Menú lateral -->
<div id="sidebar">
  <ul>
    <br>
    <li><a th:href="@{/usuarios}"><i class="fas fa-tachometer-alt"></i> Panel de Control</a></li>
    <li><a th:href="@{/claseUsuario}"><i class="fas fa-calendar-alt"></i> Agendar Clase</a></li>
    <li><a th:href="@{/compras}"><i class="fas fa-calendar-alt"></i> Comprar un Servicio</a></li>
    <li><a th:href="@{/pqrsUsuario}"><i class="fas fa-comments"></i>Hacer un PQRs</a></li>
  </ul>
</div>
  </header>

  <!-- Contenedores de alertas -->
  <div class="container" style="margin-top: 70px;">
    <div th:if="${success != null}" class="alert alert-primary alert-dismissible fade show">
      [[${success}]]
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">&times;</button>
    </div>

    <div th:if="${error != null}" class="alert alert-danger alert-dismissible fade show">
      [[${error}]]
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">&times;</button>
    </div>

    <div th:if="${warning != null}" class="alert alert-warning alert-dismissible fade show">
      [[${warning}]]
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">&times;</button>
    </div>

    <div th:if="${info != null}" class="alert alert-info alert-dismissible fade show">
      [[${info}]]
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">&times;</button>
    </div>
  </div>

  <!-- Contenido principal -->
  <div id="content">
    <div th:if="${content == null or content.isEmpty()}">
      <h2 class="text-center">Bienvenido</h2>
      <p class="text-center">Seleccione una opción del menú lateral para comenzar.</p>
    </div>
  </div>

  <!-- Fragmento del footer -->
  <footer th:fragment="footer">
    <div class="container">
      <!-- Scripts de Bootstrap y jQuery -->
      <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    </div>
  </footer>
</body>
</html>
